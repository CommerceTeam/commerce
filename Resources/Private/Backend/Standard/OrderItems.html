{namespace c=CommerceTeam\Commerce\ViewHelpers}
<f:if condition="{items}">
	<f:if condition="{invoicePageId}">
		<a href="../index.php?id={invoicePageId}&tx_commerce_pi6[order_id]={orderId}&type={invoicePageType}" target="_blank">
			<f:translate id="LLL:EXT:commerce/Resources/Private/Language/locallang_be.xlf:order_view.items.print_invoice"/> *
		</a>
	</f:if>
	<div class="panel panel-default">
		<div class="panel-heading">
			<f:translate id="LLL:EXT:commerce/Resources/Private/Language/locallang_be.xlf:order_view.items.article_list"/>
		</div>
		<div class="table-fit" id="recordlist-{table}" data-state="expanded">
			<table>
				<thead>
				<tr>
					<f:for each="{fields}" as="field">
						<th><f:translate id="LLL:EXT:commerce/Resources/Private/Language/locallang_db.xlf:{table}.{field}"/></th>
					</f:for>
				</tr>
				</thead>
				<tbody>
				<f:for each="{items}" as="item">
					<tr class="even">
						<f:for each="{fields}" as="field">
							<f:switch expression="{field}">
								<f:case value="{titleField}">
									<td>
										<f:if condition="{orderEditable}">
											<f:then><c:be.link.editAction tableName="{table}" uids="{0: item.uid}">{item.{field}}</c:be.link.editAction></f:then>
											<f:else>{item.{field}}</f:else>
										</f:if>
									</td>
								</f:case>
								<f:case value="amount">
									<td>
										<f:if condition="{orderEditable}">
											<f:then><c:be.link.editAction tableName="{table}" uids="{0: item.uid}" columnsOnly="{0: 'amount'}">{item.{field}}</c:be.link.editAction></f:then>
											<f:else>{item.{field}}</f:else>
										</f:if>
									</td>
								</f:case>
								<f:case value="price_net">
									<td style="text-align: right"><f:format.number decimals="2">{item.{field}}</f:format.number></td>
								</f:case>
								<f:case value="price_gross">
									<td style="text-align: right"><f:format.number decimals="2">{item.{field}}</f:format.number></td>
								</f:case>
								<f:case default="true">
									<td>{item.{field}}</td>
								</f:case>
							</f:switch>
						</f:for>
					</tr>
				</f:for>
				</tbody>
				<tfoot>
				<tr>
					<f:for each="{fields}" as="field">
						<f:switch expression="{field}">
							<f:case value="amount">
								<td>{sum.{field}}</td>
							</f:case>
							<f:case value="price_net">
								<td style="text-align: right"><f:format.number decimals="2">{sum.{field}}</f:format.number></td>
							</f:case>
							<f:case value="price_gross">
								<td style="text-align: right"><f:format.number decimals="2">{sum.{field}}</f:format.number></td>
							</f:case>
							<f:case default="true">
								<td>{sum.{field}}</td>
							</f:case>
						</f:switch>
					</f:for>
				</tr>
				</tfoot>
			</table>
		</div>
	</div>
</f:if>
